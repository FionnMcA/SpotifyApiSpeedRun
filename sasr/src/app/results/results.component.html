<div *ngIf="loading">
  <div class="loadingPage">
    <div>
      <p-progressSpinner
        styleClass="w-4rem h-4rem"
        strokeWidth="8"
        fill="var(--surface-ground)"
        animationDuration=".5s"
      >
      </p-progressSpinner>
    </div>
    <div>
      <div>Loading card</div>
    </div>
  </div>
</div>

<p-tabMenu [model]="items" [activeItem]="activeItem"></p-tabMenu>
<div #carousel class="carousel-container">
  <p-carousel
    [value]="colours"
    [numVisible]="1.07"
    [numScroll]="1"
    [circular]="false"
  >
    <ng-template let-colour pTemplate="item">
      <div
        id="fullCard"
        class="fullCard"
        [ngStyle]="{
          'background-image': 'url(/assets/' + colour + '.JPEG)'
        }"
      >
        <div class="container">
          <div class="timePeriod">
            <span class="timePeriodSpan">
              {{ timePeriodToString(timePeriod) }}</span
            >
          </div>
          <div class="imgBox">
            <img
              class="imageCover"
              [src]="topArtistImg"
              alt="Top Artist Image"
            />
          </div>
          <table>
            <tr class="titles">
              <td>Top Artists</td>
              <td>Top Songs</td>
            </tr>
            <tr>
              <td class="topArtistsDisplay">
                <ul>
                  <li *ngFor="let artist of artists; let i = index">
                    {{ i + 1 }} {{ artist.name }}
                  </li>
                </ul>
              </td>
              <td class="topArtistsDisplay">
                <ul>
                  <li *ngFor="let track of tracks; let i = index">
                    {{ i + 1 }} {{ track.name }}
                  </li>
                </ul>
              </td>
            </tr>
            <tr class="additional-space">
              <td></td>
              <td></td>
            </tr>
            <tr class="titles">
              <td>Minutes Listened</td>
              <td>Top Genre</td>
            </tr>
            <tr class="minutesAndGenre">
              <td>{{ averageMinutes }}*</td>
              <td>{{ topGenre }}</td>
            </tr>
          </table>
          <div class="logoAndLink">WRAPPEDIFY.COM</div>
        </div>
      </div>
    </ng-template>
  </p-carousel>
</div>

<!-- <h1>Tracks</h1>
<ul *ngFor="let track of tracks">
  <li>{{ track.name }}</li>
</ul>
<h1>Artists</h1>
<ul *ngFor="let artist of artists">
  <li>{{ artist.name }}</li>
</ul> -->
<button (click)="onCreatePlaylist()">Create Playlist</button>
